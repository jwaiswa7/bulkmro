<% provide :container_fluid, true %>
<% provide :can_be_ajaxed, true %>
<%# provide :can_be_directly_export_by_daterange, true %>
<% provide :can_be_directly_created, true %>
<% provide :can_be_directly_exported_filtered_records, true %>
<% provide :can_be_directly_exported, true %>
<% provide :wrap_whitespace, true %>
<% provide :show_date_filter, true %>

<% provide :heading_buttons do %>
  <% if is_authorized(:activity, 'add_to_inquiry') %>
    <span id="add_to_inquiry_wrapper">
      <div class="mr-2 d-block d-md-inline-block export_daterange_wrapper">
        <%= select_tag :inquiry, '', class: 'select2-ajax select2-wrap bmro-deopdown-icon bmro-form-input', 'data-source' => autocomplete_overseers_inquiries_path, include_blank: 'Choose an Inquiry to Assign to Activity', id: 'inquiry_select' %>
      </div>
      <button type="button" id="add_to_inquiry" class="mt-md-0 mt-1 mr-2 btn btn-warning btn-rounded align-self-center btn-block-sm-down mb-md-0 mb-1">
        <i class="fal fa-plus mr-1"></i>Add to Inquiry
      </button>
    </span>
  <% end %>
<% end %>

<div class="col-lg-12 bmro-table-layout">
<% content_for :header_row do %>
  <% if is_authorized(:activity, 'perform_actions') %>
    <th class="no-sort all bmro-material-queue" width="45px">
      <div class="custom-control custom-checkbox d-none d-md-block">
        <input type="checkbox" class="custom-control-input" name="all_activities" id="all_activities">
        <label class="custom-control-label" for="all_activities"></label>
      </div>
    </th>
  <% else %>
    <th class="no-sort all bmro-material-queue checkbox" width="45px"></th>
  <% end %>
  <th class="no-sort all" width="98px">Quick Actions</th>
  <th class="no-sort desktop text-left" width="80px">Subject</th>
  <th class="no-sort desktop text-right" width="40px">Status</th>
  <th class="no-sort text-left" width="50px" data-name="account_id">Account</th>
  <th class="no-sort text-left" width="130px" data-name="company_id">Company</th>
  <th class="no-sort text-left" width="100px">Company Creation Request Status</th>
  <th class="sort desktop text-right" width="30px" data-name="inquiry_number">Inquiry</th>
  <th class="no-sort text-left" width="70px" data-name="created_by_id">Created By</th>
  <th class="no-sort text-left" width="70px">Commercial Status</th>
  <th class="no-sort text-left" width="80px" data-name="contact_id">Contact Name</th>
  <th class="no-sort text-left" width="60px" data-name="purpose_id">Purpose</th>
  <th class="no-sort text-left" width="40px" data-name="activity_type_id">Type</th>
  <th class="no-sort text-right" width="75px">Misc. Expenses</th>
  <th class="no-sort text-left" width="230px">Points Discussed</th>
  <th class="no-sort text-left" width="150px">Actions Required</th>

  <th class="no-sort desktop text-right" width="80px">Assigned To</th>
  <th class="sort all text-left" width="50px" data-name="activity_date">Activity Date</th>
  <th class="no-sort desktop text-right" width="50px">Due Date</th>
  <% end %>
<% content_for :filter_row do %>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="ajax"></td>
  <td data-filter="ajax"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="dropdown"></td>
  <td data-filter="false"></td>
  <td data-filter="ajax"></td>
  <td data-filter="dropdown"></td>
  <td data-filter="dropdown"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="daterange"></td>
  <td data-filter="false"></td>
<% end %>

  <%= render layout: 'shared/layouts/datatable' do %>
  <% end %>
</div>
