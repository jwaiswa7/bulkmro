<% provide :container_fluid, true %>
<% provide :can_be_ajaxed, true %>
<%# provide :can_be_directly_export_by_daterange, true %>
<% provide :can_be_directly_created, true %>
<% provide :can_be_directly_exported_filtered_records, true %>
<% provide :can_be_directly_exported, true %>
<% provide :wrap_whitespace, true %>

<% provide :heading_buttons do %>
  <% if is_authorized(:activity, 'add_to_inquiry') %>
    <span id="add_to_inquiry_wrapper">
      <div class="mr-2 d-block d-md-inline-block export_daterange_wrapper">
        <%= select_tag :inquiry, '', class: 'select2-ajax select2-wrap bmro-deopdown-icon bmro-form-input', 'data-source' => autocomplete_overseers_inquiries_path, include_blank: 'Choose an Inquiry to Assign to Activity', id: 'inquiry_select' %>
      </div>
      <button type="button" id="add_to_inquiry" class="mt-md-0 mt-1 mr-2 btn btn-warning btn-rounded align-self-center btn-block-sm-down mb-md-0 mb-1">
        <i class="fal fa-plus mr-1"></i>Add to Inquiry
      </button>
    </span>
  <% end %>
<% end %>

<% content_for :header_row do %>
  <% if is_authorized(:activity, 'perform_actions') %>
    <th class="no-sort all bmro-material-queue">
      <div class="custom-control custom-checkbox d-none d-md-block">
        <input type="checkbox" class="custom-control-input" name="all_activities" id="all_activities">
        <label class="custom-control-label" for="all_activities">Select All</label>
      </div>
    </th>
  <% else %>
    <th class="no-sort all bmro-material-queue checkbox"></th>
  <% end %>
  <th class="no-sort all" >Quick Actions</th>
  <th class="no-sort" >Created By</th>
  <th class="sort all text-right" data-name="activity_date">Activity Date</th>
  <th class="no-sort" data-name="account_id">Account</th>
  <th class="no-sort" data-name="company_id">Company</th>
  <th class="no-sort">Company Creation Request Status</th>
  <th class="no-sort">Contact Creation Request Status</th>
  <th class="sort desktop text-right" data-name="inquiry_number">Inquiry</th>
  <th class="no-sort">Commercial Status</th>
  <th class="no-sort" data-name="contact_id">Contact Name</th>
  <th class="no-sort" data-name="purpose_id">Purpose</th>
  <th class="no-sort" data-name="activity_type_id">Type</th>
  <th class="no-sort text-right">Misc. Expenses</th>
  <th class="no-sort">Points Discussed</th>
  <th class="no-sort">Actions Required</th>
  <th class="desktop text-right" data-name="created_at">Created</th>
<% end %>
<% content_for :filter_row do %>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="dropdown"></td>
  <td data-filter="daterange"></td>
  <td data-filter="ajax"></td>
  <td data-filter="ajax"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="ajax"></td>
  <td data-filter="dropdown"></td>
  <td data-filter="dropdown"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="daterange"></td>
<% end %>
<div class="col-lg-12">
  <%= render layout: 'shared/layouts/datatable' do %>
  <% end %>
</div>
