<%= simple_form_for(:pipeline_report, :url => pipeline_report_overseers_inquiries_path, :method => :get, :html => {:class => 'needs-validation', :'novalidate' => '', :'data-parsley-validate' => ''}) do |f| %>
  <div class="card mt-3">
    <div class="card-body">
      <div class="form-row">
        <div class="col">
          <%= f.input :date_range, as: :string,
                      input_html: {
                          :'data-toggle' => 'daterangepicker', :placeholder => 'Date Range',
                          :value => (params['pipeline_report'].present? && params['pipeline_report']['date_range'].present? ? params['pipeline_report']['date_range'] : '')
                      }, required: false, label: 'Pick a Date Range' %>
        </div>
      </div>
      <div class="form-row">
        <div class="col-12 col-md-4">
          <%= f.input :company, as: :select, collection: Company.acts_as_customer,
                      input_html: {class: "select2-single", :'data-placeholder' => 'Select Customer Company' }, required: false, include_blank: true,
                      selected: params['pipeline_report'].present? && params['pipeline_report']['company'].present? ? params['pipeline_report']['company'].to_i : '' %>
        </div>
        <div class="col-12 col-md-4">
          <%= f.input :sales_executive, as: :select, collection: Overseer.pipeline_executives.alphabetical,
                      input_html: {class: "select2-single", :'data-placeholder' => 'Select a Sales Owner'}, required: false, include_blank: true,
                      selected: params['pipeline_report'].present? && params['pipeline_report']['sales_executive'].present? ? params['pipeline_report']['sales_executive'].to_i : '' %>
        </div>
        <div class="col-12 col-md-4">
          <%= f.input :sales_manager, as: :select, collection: Overseer.all.map {|o| [o.parent.full_name, o.parent.id] if o.parent.present?}.compact.uniq.sort,
                      input_html: {class: "select2-single", :'data-placeholder' => 'Select a Sales Manager' }, required: false, include_blank: true,
                      selected: params['pipeline_report'].present? && params['pipeline_report']['sales_manager'].present? ? params['pipeline_report']['sales_manager'].to_i : '' %>
        </div>
      </div>

      <div class="form-row">
        <div class="col text-center">
          <%= button_tag(type: "submit", class: "btn btn-success btn-block") do %>
            <i class="fal fa-redo mr-2"></i>Refresh Report
          <% end %>
        </div>
        <div class="col text-center">
          <a href="<%= pipeline_report_overseers_inquiries_path %>" class="btn btn-outline-success btn-block mb-2 mb-md-0">
            Reset Report</a>
        </div>
      </div>
    </div>
  </div>
<% end %>