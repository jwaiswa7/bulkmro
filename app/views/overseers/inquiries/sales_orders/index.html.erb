<div class="col-lg-12">
  <%= render layout: 'overseers/inquiries/tabs_layout' do %>
    <% provide :hide_table_desc, true %>
    <% provide :hide_table_heading, true %>

    <% content_for :header_row do %>
      <th class="no-sort"></th>
      <th>Sent At</th>
      <th>Created By</th>
      <th>Line Items</th>
      <th>Status</th>
      <th>Quote Total</th>
      <th>Created At</th>
    <% end %>

    <%= render layout: 'shared/layouts/datatable' do %>
      <% @sales_orders.each do |sales_order| %>
        <tr>
          <td>
            <% if policy(sales_order).edit? %>
              <%= row_action_button(edit_overseers_inquiry_sales_order_path(@inquiry, sales_order), 'pencil', 'Edit Sales Order', 'warning') %>
            <% elsif policy(sales_order).new_revision? %>
              <%= row_action_button(new_revision_overseers_inquiry_sales_order_path(@inquiry, sales_order), 'redo-alt', 'New Sales Order Revision', 'warning') %>
            <% end %>

            <% if policy(sales_order).comments? %>
              <%= row_action_button(overseers_inquiry_comments_path(@inquiry, sales_order_id: sales_order.to_param), 'comment-lines', 'See Comments', 'success') %>
            <% end %>
          </td>
          <td><%= format_date(sales_order.sent_at) %></td>
          <td><%= sales_order.created_by.to_s %></td>
          <td><%= sales_order.rows.size %></td>
          <td><%= format_enum(sales_order.status) %></td>
          <td><%= format_currency(sales_order.calculated_total) %></td>
          <td><%= format_date(sales_order.created_at) %></td>
        </tr>
      <% end %>
    <% end %>
  <% end %>
</div>