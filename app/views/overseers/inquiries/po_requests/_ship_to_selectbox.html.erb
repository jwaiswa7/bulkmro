<% if  params['drop_ship'].present? &&  params['drop_ship'] == 'true' %>
  <%= f.association :ship_to, collection: selected_option_or_nil(f, :ship_to), label_method: :to_s, input_html: {class: 'select2-ajax bmro-form-input', :'data-source' => autocomplete_overseers_company_addresses_path(f.object.supplier || f.object.inquiry.company)}, required: true %>
<% else %>
  <%= f.association :ship_to, collection: Warehouse.all.with_includes.map {|warehouse| [warehouse.to_s, warehouse.id, {'data-warehouse' => warehouse.address.city_name.try(:strip) || 'N/A', 'data-warehouse-state' => warehouse.address.state.id, 'data-warehouse-city' => warehouse.address.city_name}]}, input_html: {class: 'select2-single bmro-dropdown-icon bmro-form-input', 'data-warehouse-list ship_to': Warehouse.all.map {|warehouse| [warehouse.address.state.id]}.uniq}, required: true %>
<% end %>
