<div class="col-lg-12">
  <%= render layout: 'overseers/inquiries/tabs_layout' do %>
    <% @inquiry_product_suppliers.each do |inquiry_product_supplier| %>
      <%= simple_form_for([@inquiry, inquiry_product_supplier], url: overseers_inquiry_supplier_rfqs_path, method: :POST, :html => {:class => 'needs-validation mt-3', :'novalidate' => '', :'data-parsley-validate' => ''}) do |f| %>
        <%= render 'shared/snippets/form_errors', f: f %>
        <div class="card">
          <div class="card-body">
            <div class="form-row">
              <div class="col-12">
                <div class="mt-3">
                  <strong>
                    <%= f.hidden_field :id %>
                    <%= "#{f.object.to_s.name}: ##{f.object.id}" %>
                  </strong>
                </div>
              </div>
              <hr>
              <%#= f.fields_for :inquiry_product, f.object.inquiry_product do |inquiry_product| %>
<!--                <div class="form-row mt-2">-->
<!--                  <div class="col-md-1 col-4"><%#= inquiry_product.input :quantity, placeholder: placeholder_for(inquiry_product, :quantity), input_html: {:'data-parsley-errors-messages-disabled' => '', :'data-parsely-no-valid-feedback' => ''} %></div>-->
<!--                <div class="col-md-1 col-4"><%#= row.input :margin_percentage, label: 'Margin', input_html: { "data-bind": ""} %></div>-->
<!--                <div class="col-md-2 col-4"><%#= row.input :unit_selling_price, label: 'Unit Selling Price', input_html: {min: 0, "data-bind": ""} %></div>-->
<!--                <div class="col-md-3 col-12">-->
<!--                  <div class="form-row">-->
<!--                    <div class="col-md-6 col-6"><%#= row.input :unit_freight_cost, input_html: {"data-bind": "", min: 0}, label: 'Unit Freight' %></div>-->
<!--                    <div class="col-md-6 col-6"><%#= row.input :freight_cost_subtotal, input_html: {"data-bind": "", min: 0}, label: 'Total Freight' %></div>-->
<!--                  </div>-->
<!--                </div>-->

<!--                <div class="col-md-2"><%#= row.association :tax_code, collection: selected_option_or_nil(row, :tax_code), input_html: {:'data-source' => autocomplete_overseers_tax_codes_path(is_service: row.object.is_service), "data-bind": ""} %></div>-->
<!--                <div class="col-md-2"><%#= row.association :tax_rate, collection: TaxRate.all.map {|tax_rate| [tax_rate.to_s, tax_rate.id, {'data-tax_rate' => tax_rate.tax_percentage}]} , input_html: { "data-bind": ""} %></div>-->
                <%#= row.hidden_field :unit_cost_price, "data-bind": "", disabled: true %>
                <%#= row.hidden_field :unit_cost_price_with_unit_freight_cost, "data-bind": "", disabled: true %>
                <%#= row.hidden_field :total_selling_price, "data-bind": "", disabled: true %>
                <%#= row.hidden_field :total_selling_price_with_tax, "data-bind": "", disabled: true %>
<!--                <div class="col-md-2"><%#= row.association :lead_time_option, wrapper: :custom_multi_select %></div>-->
<!--                <div class="col-md-2"><%#= row.association :measurement_unit, wrapper: :custom_multi_select, required: true %></div>-->
                <%#= link_to_remove_association row, {class: 'btn btn-danger align-self-center d-none', wrapper_class: 'simple-row', "data-v": "", "data-v-on:click": "dropRow(_index_)"} do %>
<!--                  Hide-->
                <%# end %>
<!--                </div>-->
              <%# end %>
              <div class="col-12">
<!--                <div class="form-row d-none d-md-flex">-->
<!--                  <div class="col-6">-->
<!--                    <div class="form-group mb-0">-->
<!--                      <label>Product</label>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                  <div class="col-1">-->
<!--                    <div class="form-group mb-0">-->
<!--                      <label>MPN</label>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                  <div class="col-3">-->
<!--                    <div class="form-group mb-0">-->
<!--                      <label>Brand</label>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                  <div class="col-1">-->
<!--                    <div class="form-group mb-0">-->
<!--                      <label>Qty</label>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                  <div class="col-1">-->
<!--                    <div class="form-group mb-0">-->
<!--                      <label>Lead Time</label>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                  <div class="col-1">-->
<!--                    <div class="form-group mb-0">-->
<!--                      <label>Last Unit Price</label>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                  <div class="col-1">-->
<!--                    <div class="form-group mb-0">-->
<!--                      <label>Basic Unit Price</label>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                  <div class="col-1">-->
<!--                    <div class="form-group mb-0">-->
<!--                      <label>GST%</label>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                  <div class="col-1">-->
<!--                    <div class="form-group mb-0">-->
<!--                      <label>Unit Freight</label>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                  <div class="col-1">-->
<!--                    <div class="form-group mb-0">-->
<!--                      <label>Final Unit Price</label>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                  <div class="col-1">-->
<!--                    <div class="form-group mb-0">-->
<!--                      <label>Total Price</label>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                  <div class="col-1">-->
<!--                    <div class="form-group mb-0">-->
<!--                      <label>Remarks</label>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                </div>-->
                <%= f.fields_for :inquiry_product, f.object.inquiry_product do |inquiry_product| %>
                  <div class="form-row d-none d-md-flex">
                    <div class="col-6">
                      <div class="form-group mb-0">
                        <label>Product</label><br>
                        <%= inquiry_product.object.product.to_s %>
                      </div>
                    </div>
                    <div class="col-3">
                      <div class="form-group mb-0">
                        <label>MPN</label><br>
                        <%= inquiry_product.object.product.mpn %>
                      </div>
                    </div>
                    <div class="col-3">
                      <div class="form-group mb-0">
                        <label>Brand</label><br>
                        <%= inquiry_product.object.product.brand.to_s %>
                      </div>
                    </div>
                  </div>
                  <br>
                  <div class="form-row d-none d-md-flex">
                    <div class="col-1">
                      <div class="form-group mb-0">
                        <%= inquiry_product.input :quantity, placeholder: placeholder_for(inquiry_product, :quantity), input_html: {:'data-parsley-errors-messages-disabled' => '', :'data-parsely-no-valid-feedback' => ''} %>
                      </div>
                    </div>
                    <div class="col-1">
                      <div class="form-group mb-0">
                        <%= inquiry_product.input :lead_time, collection: InquiryProduct.lead_times, input_html: {:'data-parsley-errors-messages-disabled' => '', :'data-parsely-no-valid-feedback' => ''} %>
                      </div>
                    </div>
                    <div class="col-2">
                      <div class="form-group mb-0">
                        <%= inquiry_product.input :last_unit_price, input_html: {:'data-parsley-errors-messages-disabled' => '', :'data-parsely-no-valid-feedback' => ''} %>
                      </div>
                    </div>
                    <div class="col-2">
                      <div class="form-group mb-0">
                        <%= f.input :unit_cost_price, label: 'Basic Unit Price', input_html: {:'data-parsley-errors-messages-disabled' => '', :'data-parsely-no-valid-feedback' => ''} %>
                      </div>
                    </div>
                    <div class="col-1">
                      <div class="form-group mb-0">
                        <%= inquiry_product.input :gst, input_html: {:'data-parsley-errors-messages-disabled' => '', :'data-parsely-no-valid-feedback' => ''} %>
                      </div>
                    </div>
                    <div class="col-1">
                      <div class="form-group mb-0">
                        <%= inquiry_product.input :unit_freight, input_html: {:'data-parsley-errors-messages-disabled' => '', :'data-parsely-no-valid-feedback' => ''} %>
                      </div>
                    </div>
                    <div class="col-2">
                      <div class="form-group mb-0">
                        <%= inquiry_product.input :final_unit_price, input_html: {:'data-parsley-errors-messages-disabled' => '', :'data-parsely-no-valid-feedback' => ''} %>
                      </div>
                    </div>
                    <div class="col-1">
                      <div class="form-group mb-0">
                        <%= inquiry_product.input :total_price, placeholder: placeholder_for(inquiry_product, :total_price), input_html: {:'data-parsley-errors-messages-disabled' => '', :'data-parsely-no-valid-feedback' => ''} %>
                      </div>
                    </div>
                    <div class="col-1">
                      <div class="form-group mb-0">
                        <%= inquiry_product.input :remarks %>
                      </div>
                    </div>
                  </div>
                <% end %>
              </div>
              <hr>
            </div>
          </div>
          <div class="card-footer">
            <% if is_authorized(inquiry_product_supplier, 'request_for_quote') %>
              <%= button_tag(type: "submit", class: "btn btn-warning btn-block") do %>
                <i class="fal fa-pen"></i> Update and Send Link
              <% end %>
            <% end %>
          </div>
        </div>
      <% end %>
    <% end %>
  <% end %>
</div>