<% provide :container_fluid, true %>
<% provide :can_be_ajaxed, true %>
<% provide :wrap_whitespace, true %>

<div class="col-lg-12">
  <%= render partial: "shared/layouts/summary", locals: {klass: PaymentRequest, statuses: PaymentRequest.statuses, aggregation: {}} %>
</div>

<% content_for :heading do %>
  <% ['Payment Requests', @param].compact.join(': ') %>
<% end %>

<% content_for(:heading_buttons) do %>
  <% if policy(:po_request).index? %>
    <a href="<%= overseers_po_requests_path %>" class=" btn btn-success btn-rounded align-self-center btn-block-sm-down mr-md-1 mb-md-0 mb-1">
      <i class="fal fa-plus-circle mr-1"></i>New <%= controller_path.split('/').last.singularize.split("_").join(" ").upcase %>
    </a>
  <% end %>
<% end %>

<% content_for :header_row do %>
  <th class="no-sort all" data-width="70px"></th>
  <th class="desktop text-right" data-name="id">Req. No.</th>
  <th class="no-sort desktop" data-name="status">Status</th>
  <th class="desktop" data-name="inquiry_number">Inquiry #</th>
  <th class="no-sort all">PO #</th>
  <th class="no-sort all">Owner</th>
  <!--<th class="no-sort all">Payment Type</th>
  <th class="no-sort all">UTR/Cheque No</th>-->
  <th class="no-sort all" title="Inside Sales & Procurement" data-toggle="tooltip" >IS&P</th>
  <th class="desktop" data-name="due_date">Due Date</th>
  <th class="no-sort desktop">Total Amount</th>
  <th class="no-sort desktop">Remaining Amount</th>
  <th class="no-sort desktop">Percentage Paid</th>
  <th class="desktop" data-name="created_at">Requested At</th>
  <th class="desktop" data-name="updated_at_by_comment">Updated At</th>
  <th class="no-sort desktop">Latest Comment</th>
<% end %>

<% content_for :filter_row do %>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td class="status-filter" data-filter="dropdown"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
  <td data-filter="false"></td>
<% end %>

<div class="col-lg-12">
  <%= render layout: 'shared/layouts/datatable' do %>
  <% end %>
</div>