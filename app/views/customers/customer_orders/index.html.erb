<div class="col-lg-12">
  <% provide :hide_table_desc, true %>
  <% provide :hide_table_heading, true %>

  <% content_for :header_row do %>
    <th>Order #</th>
    <th>Order Items</th>
    <th>Item Quantity</th>
    <th>Placed On</th>
  <% end %>

  <%= render layout: 'shared/layouts/datatable' do %>
    <% @customer_orders.each do |customer_order| %>
      <tr>
        <td>Order Number <%= customer_order.id %></td>
        <td><%= Product.where(id: customer_order.rows.pluck(:product_id)).pluck(:name).join(", ") %></td>
        <td><%= customer_order.rows.sum(:quantity) %></td>
        <td><%= format_date(customer_order.created_at) %></td>
      </tr>
    <% end %>
  <% end %>
</div>