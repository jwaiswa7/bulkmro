<% if content_for?(:heading) || (content_for?(:can_be_directly_created) && is_authorized(current_model.singularize.downcase, 'new')) || !content_for?(:hide_table_desc) %>
  <section class="section-padding-adjustment">
    <div class="d-md-flex justify-content-between">
      <!-- <div>
       <%# if content_for?(:heading) %>
         <h1 class="display-5 mb-1"><%#= yield :heading %></h1>
       <%# else %>
         <h1 class="display-5 mb-1"><%#= current_model.titleize %></h1>
       <%# end unless content_for?(:hide_table_heading) %>
       <%# unless content_for?(:hide_table_desc) %>
         <%# if content_for?(:table_desc) %>
           <p class="lead mt-1 mb-1">
             <%#= yield :table_desc %>
           </p>
         <%# else %>
           <p class="lead mt-1 mb-1">
             All <%#= current_model.humanize.downcase %> searchable with relevant term/keywords.
           </p>
         <%# end %>
       <%# end %>
     </div>-->
    </div>

    <%= yield :notice_message %>

  </section>
<% end %>
<div class="bmro-ar-invoice">
  <div class="bmro-invoice-heading">
     <!-- <span class="bmro-downimg"></span><h4>AR Invoice</h4> -->
<% if content_for?(:can_be_exported_for_amat_customer) && current_overseer.present? && current_overseer == Overseer.find_by_email('sufiyan.siddique@bulkmro.com') %>
  <a href= "<%= [request.path,'/', 'export_for_amat_customer.csv'].join %>" class="btn btn-success btn-rounded align-self-center btn-block-sm-down ml-1" >
    <i class="fal fa-download mr-1"></i>Export
  </a>
<% end %>

<% if content_for?(:can_be_directly_created) || content_for?(:can_be_searched_or_created) || content_for?(:can_be_directly_exported) || content_for?(:can_be_directly_export_by_daterange) || content_for?(:heading_buttons) || content_for?(:can_be_directly_downloaded) || content_for?(:can_be_directly_exported_filtered_records) || content_for?(:can_be_directly_exported_inquiry_tat) || content_for?(:can_exported_report) %>
  <div>
    <% if content_for?(:heading_buttons)%>
      <%= yield :heading_buttons %>
    <% end %>
    <% if content_for?(:can_be_directly_export_by_daterange) && policy(current_model.singularize.downcase).export_all? %>
      <div class="d-none d-md-inline-block">
        <div class="mr-2 d-md-inline-block export_daterange_wrapper">
          <input type="text" id="export_daterange" name="export_daterange" class="form-control" data-toggle="daterangepicker" data-direction="left" placeholder="Pick a daterange" />
        </div>
        <a href="<%= [request.path, '/', 'export_all.csv'].join %>" id="export_daterange_button" class="mt-md-0 mt-1 mr-2 btn btn-success btn-rounded align-self-center btn-block-sm-down export_daterange_wrapper" <% if Export.send(controller_path.split('/').last).not_filtered.last.present? %>data-badge="<%= [time_ago_in_words(Export.send(controller_path.split('/').last).not_filtered.last.created_at), "ago"].join(' ') %><% end %>">
          <i class="fal fa-download mr-1"></i><%= controller_path.split('/').last.pluralize.split("_").join(" ").upcase %>
        </a>
      </div>
    <% end %>
    <% if content_for?(:can_be_directly_created) && policy(current_model.singularize.downcase).new? %>
      <a href="<%= [request.path, '/', 'new'].join %>" class="mt-md-0 mt-1 mr-2 btn btn-success btn-rounded align-self-center btn-block-sm-down mr-md-1 mb-md-0 mb-1" target="_blank" >
        <i class="fal fa-plus-circle mr-1"></i>New <%= controller_path.split('/').last.singularize.split("_").join(" ").upcase %>
      </a>
    <% end %>
    <% if content_for?(:can_be_directly_exported) && policy(current_model.singularize.downcase).export_all? %>
      <a href="<%= [request.path, '/', 'export_all.csv'].join %>" class="btn btn-success btn-rounded align-self-center btn-block-sm-down ml-1" <% if Export.send(controller_path.split('/').last).not_filtered.last.present? %>data-badge="<%= [time_ago_in_words(Export.send(controller_path.split('/').last).not_filtered.last.created_at), "ago"].join(' ') %><% end %>">
        <i class="fal fa-download mr-1"></i><%= controller_path.split('/').last.pluralize.split("_").join(" ").upcase %>
      </a>
    <% end %>

    <% if content_for?(:can_be_directly_exported_filtered_records) && policy(current_model.singularize.downcase).export_filtered_records? %>
      <%= button_tag(type: 'button', class: "btn btn-success btn-rounded align-self-center btn-block-sm-down ml-1", id: 'export_filtered_records') do %>
        <i class="fal fa-envelope mr-1"></i> Filtered <%= controller_path.split('/').last.pluralize.split("_").join(" ").upcase %>
      <% end %>
    <% end %>
    <% if content_for?(:can_be_directly_exported_inquiry_tat) && policy(current_model.singularize.downcase).export_inquiries_tat? %>
      <%= link_to ("#{export_inquiries_tat_overseers_inquiries_path}.csv"), class: "btn btn-success btn-rounded align-self-center btn-block-sm-down ml-1", 'data-badge': ([time_ago_in_words(Export.where(export_type: 2).last.created_at), "ago"].join(' ') if Export.where(export_type: 2).last.present?) do %>
        <i class="fal fa-download mr-1"></i><%= controller_path.split('/').last.pluralize.split("_").join(" ").upcase %> TAT
      <% end %>
    <% end %>
    <% if content_for?(:can_exported_report) && policy(current_model.singularize.downcase).export_report? %>
      <%= link_to ("#{export_report_overseers_report_path}.csv"), class: "btn btn-success btn-rounded align-self-center btn-block-sm-down ml-1", 'data-badge': ([time_ago_in_words(Export.where(export_type: 2).last.created_at), "ago"].join(' ') if Export.where(export_type: 2).last.present?) do %>
        <i class="fal fa-download mr-1"></i><%= controller_path.split('/').last.pluralize.split("_").join(" ").upcase %>
      <% end %>
    <% end %>
    <% if content_for?(:can_be_directly_downloaded) %>
      <% if params['action'].include?'report'
           report_name = params['action']
           report_query = params[report_name].as_json.to_query(report_name) if params[report_name].present?
           report_url = params[report_name].present? ? "export_#{report_name}?#{report_query}.csv" : "export_#{report_name}.csv"
         end %>
      <a href="<%= report_url %>" class="btn btn-success btn-rounded align-self-center btn-block-sm-down ml-1" >
        <i class="fal fa-download mr-1"></i><%= action_name.split('/').last.split("_").join(" ").upcase%>
      </a>
    <% end %>
    <% if content_for?(:can_be_directly_generated) && policy(current_model.singularize.downcase).generate_all? %>
      <a href="<%= [request.path, '/', 'generate_all'].join %>" class=" btn btn-success btn-rounded align-self-center btn-block-sm-down">
        <i class="fal fa-download mr-1"></i>Generate <%= controller_path.split('/').last.pluralize.split("_").join(" ").upcase %>
      </a>
    <% end %>
    <% if content_for?(:can_be_exported_material_readiness_queue) && policy(current_model.singularize.downcase).export_material_readiness? %>
      <a href= "<%= [request.path.chomp('material_readiness_queue'), 'export_material_readiness.csv'].join %>" class="btn btn-success btn-rounded align-self-center btn-block-sm-down ml-1" <% if Export.send(controller_path.split('/').last).not_filtered.last.present? %>data-badge="<%= [time_ago_in_words(Export.send(controller_path.split('/').last).not_filtered.last.created_at), "ago"].join(' ') %><% end %>">
        <i class="fal fa-download mr-1"></i>Material Readiness Queue
      </a>
    <% end %>
  </div>
<% end %>     
  </div>
  <div class="bmro-summary" id="accordionExample">
    <div class="bmro-summary-box1">
      <a href="#" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" class="bmro-click-toggle bmro-invoice-one collapsed">
      Sales Invoice Summary</a>          
      <div id="collapseOne" class="bmro-collaps bmro-collaps1 collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
        <div class="bmro-invoice-data">
          <div class="bmro-invoice-edit">
            <label>Invoiced</label>
            <span>13,396</span>
          </div> 
          <div class="bmro-invoice-edit">
            <label>paid</label>
            <span>93</span>
          </div> 
          <div class="bmro-invoice-edit">
            <label>ready for dispatch</label>
            <span>578</span>
          </div> 
          <div class="bmro-invoice-edit">
            <label>partial:shipped</label>
            <span>72</span>
          </div>                                     
        </div>
      </div>
    </div>  

    <div class="bmro-summary-box1"> 
      <a href="#" data-toggle="collapse" data-target="#collapsetwo" aria-expanded="true" aria-controls="collapsetwo" class="bmro-click-toggle bmro-invoice-two collapsed">
      Proof of delivery summary(aug,19)</a>
      <div id="collapsetwo" class="bmro-collaps bmro-collaps2 collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
        <div class="bmro-invoice-data">
          <div class="bmro-invoice-edit">
            <label>Invoiced created</label>
            <span>396</span>
          </div> 
          <div class="bmro-invoice-edit">
            <label>regular</label>
            <span>93</span>
          </div> 
          <div class="bmro-invoice-edit">
            <label>route through</label>
            <span>578</span>
          </div> 
          <div class="bmro-invoice-edit">
            <label>partial:shipped</label>
            <span>12</span>        
          </div>
      </div>
     </div>     
  </div>
</div>
<div class="bmro-invoice-boxes bmro-invoice-box-one bmro-invoice-boxes-hide" id="displayText">
  <div class="bmro-ar-reports">
    <label class="bmro-ar-report-head">Invoiced</label>
    <h5 class="bmro-ar-report-data">13,396</h5>
    <span class="bmro-ar-report-subdata">â‚¹313,250,273</span>
  </div>
  <div class="bmro-ar-reports bmro-ar-reports-paid">
    <label class="bmro-ar-report-head">paid</label>
    <h5 class="bmro-ar-report-data">96</h5>
    <span class="bmro-ar-report-subdata">â‚¹313,250,273</span>
  </div>
  <div class="bmro-ar-reports bmro-ar-reports-cancelled">
    <label class="bmro-ar-report-head">cancelled</label>
    <h5 class="bmro-ar-report-data">314</h5>
    <span class="bmro-ar-report-subdata">â‚¹313,250,273</span>
  </div>
  <div class="bmro-ar-reports">
    <label class="bmro-ar-report-head">partial:shipped</label>
    <h5 class="bmro-ar-report-data">104</h5>
    <span class="bmro-ar-report-subdata">â‚¹313,250,273</span>
  </div>
  <div class="bmro-ar-reports">
    <label class="bmro-ar-report-head">shipped</label>
    <h5 class="bmro-ar-report-data">02</h5>
    <span class="bmro-ar-report-subdata">â‚¹313,250,273</span>
  </div>
  <div class="bmro-ar-reports bmro-ar-reports-cancelled">
    <label class="bmro-ar-report-head">material delivery delayed</label>
    <h5 class="bmro-ar-report-data">00</h5>
    <span class="bmro-ar-report-subdata">â‚¹0</span>
  </div>
  <div class="bmro-ar-reports bmro-ar-reports-delivered-pen">
    <label class="bmro-ar-report-head">delivered:grn pending</label>
    <h5 class="bmro-ar-report-data">01</h5>
    <span class="bmro-ar-report-subdata">â‚¹00</span>
  </div>
  <div class="bmro-ar-reports bmro-ar-reports-cancelled">
    <label class="bmro-ar-report-head">delivered:grn delayed</label>
    <h5 class="bmro-ar-report-data">00</h5>
    <span class="bmro-ar-report-subdata">â‚¹0</span>
  </div> 
  <div class="bmro-ar-reports bmro-ar-reports-material-ready">
    <label class="bmro-ar-report-head">material ready for dispatch</label>
    <h5 class="bmro-ar-report-data">578</h5>
    <span class="bmro-ar-report-subdata">â‚¹313,250,273</span>
  </div>
  <div class="bmro-ar-reports bmro-ar-reports-cancelled">
    <label class="bmro-ar-report-head">material rejected</label>
    <h5 class="bmro-ar-report-data">00</h5>
    <span class="bmro-ar-report-subdata">â‚¹0</span>
  </div> 
</div>
<div class="bmro-invoice-boxes bmro-invoice-box-two bmro-invoice-boxes-hide bmro-invoice-padding">
  <table class="bmro-new-table bmro-datatable-style">
    <tr>
      <th>Month</th>
      <th>Aug,19</th>
      <th>Jul,19</th>
      <th>Jun,19</th>
      <th>May,19</th>
      <th>Apr,19</th>
      <th>Mar,19</th>
      <th>Feb,19</th>
      <th>Jan,19</th>
      <th>Dec,19</th>
      <th>Nov,19</th>
      <th>Oct,19</th>
      <th>Sep,19</th>
    </tr>
    <tr>
      <td>Invoice Created</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
    </tr>
    <tr>
      <td>Regular</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
    </tr>
    <tr>
      <td>Route Through</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
    </tr>
    <tr>
      <td>Total Pending POD</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
      <td>92</td>
    </tr>                
  </table>
  <script type="text/javascript">
    $('.bmro-invoice-one').click(function () {
        if ($('.bmro-collaps1').hasClass("show"))
        {
          $('.bmro-invoice-box-one').hide();
          $('.bmro-invoice-box-two').hide();
          console.log('1')
        } 
        else 
        {
          $('.bmro-invoice-box-one').show();
          $('.bmro-invoice-box-two').hide();
          console.log('2')
        } 
    });
   $('.bmro-invoice-two').click(function () {
        if ($('.bmro-collaps2').hasClass("show"))
        {
          $('.bmro-invoice-box-one').hide();
          $('.bmro-invoice-box-two').hide();
          console.log('3')
        } 
        else 
        {
          $('.bmro-invoice-box-one').hide();
          $('.bmro-invoice-box-two').show();
          console.log('4')
        };
    });       
  </script>
</div>

<div class="bmro-search-table">
  <div class="bmro-input-search">
    <input type="text" name="" class="bmro-form-input bmro-search-width filter-list-input" placeholder="Search by Account, Company, Owner ect...">
  </div>
  <div class="bmro-input-search bmro-arrow-parent">
    <select class="form-control select select2-ajax bmro-form-input select2-hidden-accessible" placeholder="Status">
    <option value=""></option>
     <option>check</option>               
   </select>
  </div> 
  <div class="bmro-input-search bmro-arrow-parent">
    <select class="form-control select select2-ajax bmro-form-input select2-hidden-accessible" placeholder="IS&P">
    <option value=""></option>
     <option>IS&P</option>               
   </select>
  </div> 
  <div class="bmro-input-search bmro-arrow-parent">
    <select class="form-control select select2-ajax bmro-form-input select2-hidden-accessible" placeholder="POD">
    <option value=""></option>
     <option>POD</option>               
   </select>
  </div> 
  <div class="bmro-input-search bmro-arrow-parent">
    <select class="form-control select select2-ajax bmro-form-input select2-hidden-accessible" placeholder="POD Type">
    <option value=""></option>
     <option>POD Type</option>               
   </select>
  </div> 
  <div class="bmro-input-search bmro-arrow-parent">
    <select class="form-control select select2-ajax bmro-form-input select2-hidden-accessible" placeholder="Date">
    <option value=""></option>
     <option>POD Type</option>               
   </select>
  </div>             
</div>

<section class="pb-4 pb-lg-5">

  <table class="datatable table table-bordered table-hover dt-responsive bmro-datatable-style
   <% if content_for?(:wrap_whitespace) %> wrap-whitespace
   <% end %>" data-search="Enter search term/keywords"
         <% if content_for?(:can_be_ajaxed) %>data-ajax="<%= request.fullpath %>"
         <% end %><% if not content_for?(:enable_sort_on_last_column) %>data-sorting="false"<% end %>>
    <thead>
    <tr>
      <%= yield :header_row %>
    </tr>
    <% if content_for?(:filter_row) %>
      <tr class="filters d-none d-lg-table-row">
        <%= yield :filter_row %>
      </tr>
    <% end %>
    <% if content_for?(:summary_row) %>
      <tr class="table-summary d-none d-lg-table-row text-dark">
        <%= yield :summary_row %>
      </tr>
    <% end %>
    </thead>
    <tbody>
    <%= yield %>
    </tbody>
  </table>
</section>